"use strict";(self.webpackChunkFastkart_Admin_SSR=self.webpackChunkFastkart_Admin_SSR||[]).push([[952],{7175:(C,_,e)=>{e.d(_,{N:()=>c});var o=e(9212),l=e(7243),m=e(9009);let c=(()=>{class s{constructor(){this.tagType="product"}static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-create-tag"]],inputs:{tagType:"tagType"},decls:2,vars:3,consts:[[3,"title"],[3,"type","tagType"]],template:function(n,t){1&n&&(o.TgZ(0,"app-page-wrapper",0),o._UZ(1,"app-form-tag",1),o.qZA()),2&n&&(o.Q6J("title","create_tag"),o.xp6(1),o.Q6J("type","create")("tagType",t.tagType))},dependencies:[l.t,m.V]})}return s})()},6812:(C,_,e)=>{e.d(_,{o:()=>c});var o=e(9212),l=e(7243),m=e(9009);let c=(()=>{class s{constructor(){this.tagType="product"}static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-edit-tag"]],inputs:{tagType:"tagType"},decls:2,vars:3,consts:[[3,"title"],[3,"type","tagType"]],template:function(n,t){1&n&&(o.TgZ(0,"app-page-wrapper",0),o._UZ(1,"app-form-tag",1),o.qZA()),2&n&&(o.Q6J("title","edit_tag"),o.xp6(1),o.Q6J("type","edit")("tagType",t.tagType))},dependencies:[l.t,m.V]})}return s})()},9009:(C,_,e)=>{e.d(_,{V:()=>T});var o=e(6223),l=e(8645),m=e(2096),c=e(4664),s=e(1631),E=e(9773),g=e(6165),n=e(4612),t=e(9212),d=e(186),p=e(6505),u=e(6814),i=e(3092),r=e(2879),a=e(9515);function h(y,P){1&y&&(t.TgZ(0,"div",10),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&y&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"tag_name_is_required")," "))}let T=(()=>{class y{constructor(f,D,v,M){this.store=f,this.router=D,this.route=v,this.formBuilder=M,this.tagType="product",this.destroy$=new l.x,this.form=this.formBuilder.group({name:new o.NI("",[o.kI.required]),description:new o.NI,type:new o.NI(this.tagType,[]),status:new o.NI(!0)})}ngOnChanges(){this.form.controls.type.setValue(this.tagType)}ngOnInit(){this.route.params.pipe((0,c.w)(f=>f.id?this.store.dispatch(new n.El(f.id)).pipe((0,s.z)(()=>this.store.select(g.R.selectedTag))):(0,m.of)()),(0,E.R)(this.destroy$)).subscribe(f=>{this.tag=f,this.form.patchValue({name:this.tag?.name,description:this.tag?.description,status:this.tag?.status})})}submit(){this.form.markAllAsTouched();let f=new n.Xn(this.form.value);"edit"==this.type&&this.tag?.id&&(f=new n.Gz(this.form.value,this.tag.id)),this.form.valid&&this.store.dispatch(f).subscribe({complete:()=>{this.router.navigateByUrl("post"==this.tagType?"/blog/tag":"/tag")}})}static#t=this.\u0275fac=function(D){return new(D||y)(t.Y36(d.yh),t.Y36(p.F0),t.Y36(p.gz),t.Y36(o.qu))};static#e=this.\u0275cmp=t.Xpm({type:y,selectors:[["app-form-tag"]],inputs:{type:"type",tagType:"tagType"},features:[t.TTD],decls:19,vars:27,consts:[[1,"theme-form","theme-form-2","mega-form",3,"formGroup","ngSubmit"],[3,"label","for","required"],["type","text","name","name","formControlName","name",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["formControlName","description","rows","3",1,"form-control",3,"placeholder"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","status","formControlName","status"],[1,"switch-state"],[3,"id"],[1,"invalid-feedback"]],template:function(D,v){1&D&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return v.submit()}),t.TgZ(1,"app-form-fields",1),t.ALo(2,"translate"),t._UZ(3,"input",2),t.ALo(4,"translate"),t.YNc(5,h,3,3,"div",3),t.qZA(),t.TgZ(6,"app-form-fields",1),t.ALo(7,"translate"),t._UZ(8,"textarea",4),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"app-form-fields",1),t.ALo(11,"translate"),t.TgZ(12,"div",5)(13,"label",6),t._UZ(14,"input",7)(15,"span",8),t.qZA()()(),t.TgZ(16,"app-button",9),t._uU(17),t.ALo(18,"translate"),t.qZA()()),2&D&&(t.Q6J("formGroup",v.form),t.xp6(1),t.Q6J("label",t.lcZ(2,15,"tag_name"))("for","name")("required",!0),t.xp6(2),t.s9C("placeholder",t.lcZ(4,17,"enter_tag_name")),t.xp6(2),t.Q6J("ngIf",v.form.controls.name.touched&&(null==v.form.controls.name.errors?null:v.form.controls.name.errors.required)),t.xp6(1),t.Q6J("label",t.lcZ(7,19,"description"))("for","description")("required",!1),t.xp6(2),t.s9C("placeholder",t.lcZ(9,21,"enter_description")),t.xp6(2),t.Q6J("label",t.lcZ(11,23,"status"))("for","status")("required",!1),t.xp6(6),t.Q6J("id","tag_btn"),t.xp6(1),t.Oqu(t.lcZ(18,25,"create"==v.type?"save_tag":"update_tag")))},dependencies:[u.O5,o._Y,o.Fj,o.Wl,o.JJ,o.JL,o.sg,o.u,i.L,r.r,a.X$]})}return y})()},5780:(C,_,e)=>{e.d(_,{Z:()=>i});var o=e(7582),l=e(186),m=e(6165),c=e(4612),s=e(9212),E=e(6505),g=e(1427),n=e(7243),t=e(4274),d=e(9515);const p=r=>[r];function u(r,a){if(1&r&&(s.TgZ(0,"div",3)(1,"a",4),s._UZ(2,"i",5),s._uU(3),s.ALo(4,"translate"),s.qZA()()),2&r){const h=s.oxw();s.xp6(1),s.Q6J("routerLink",s.VKq(4,p,"post"==h.tagType?"/blog/tag/create":"/tag/create")),s.xp6(2),s.hij(" ",s.lcZ(4,2,"add_tag")," ")}}class i{constructor(a,h){this.store=a,this.router=h,this.tagType="product",this.tableConfig={columns:[{title:"No.",dataField:"no",type:"no"},{title:"name",dataField:"name",sortable:!0,sort_direction:"desc"},{title:"created_at",dataField:"created_at",type:"date",sortable:!0,sort_direction:"desc"},{title:"status",dataField:"status",type:"switch"}],rowActions:[{label:"Edit",actionToPerform:"edit",icon:"ri-pencil-line",permission:"tag.edit"},{label:"Delete",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"tag.destroy"}],data:[],total:0}}ngOnInit(){this.tag$.subscribe(a=>{this.tableConfig.data=a?a?.data:[],this.tableConfig.total=a?a?.total:0})}onTableChange(a){a.type=this.tagType,this.store.dispatch(new c.zo(a))}onActionClicked(a){"edit"==a.actionToPerform?this.edit(a.data):"status"==a.actionToPerform?this.status(a.data):"delete"==a.actionToPerform?this.delete(a.data):"deleteAll"==a.actionToPerform&&this.deleteAll(a.data)}edit(a){this.router.navigateByUrl("post"==this.tagType?`/blog/tag/edit/${a.id}`:`/tag/edit/${a.id}`)}status(a){this.store.dispatch(new c.hT(a.id,a.status))}delete(a){this.store.dispatch(new c.ps(a.id))}deleteAll(a){this.store.dispatch(new c.tW(a))}static#t=this.\u0275fac=function(h){return new(h||i)(s.Y36(l.yh),s.Y36(E.F0))};static#e=this.\u0275cmp=s.Xpm({type:i,selectors:[["app-tag"]],inputs:{tagType:"tagType"},decls:3,vars:5,consts:[[3,"gridClass","title"],["button","",4,"hasPermission"],[3,"tableConfig","hasCheckbox","tableChanged","rowClicked","action"],["button",""],[1,"align-items-center","btn","btn-theme","d-flex",3,"routerLink"],[1,"ri-add-line"]],template:function(h,T){1&h&&(s.TgZ(0,"app-page-wrapper",0),s.YNc(1,u,5,6,"div",1),s.TgZ(2,"app-table",2),s.NdJ("tableChanged",function(P){return T.onTableChange(P)})("rowClicked",function(P){return T.edit(P)})("action",function(P){return T.onActionClicked(P)}),s.qZA()()),2&h&&(s.Q6J("gridClass","col-sm-12")("title","tags"),s.xp6(1),s.Q6J("hasPermission","tag.create"),s.xp6(1),s.Q6J("tableConfig",T.tableConfig)("hasCheckbox",!0))},dependencies:[E.rH,g.a,n.t,t.A,d.X$]})}(0,o.gn)([(0,l.Ph)(m.R.tag)],i.prototype,"tag$",void 0)},1952:(C,_,e)=>{e.r(_),e.d(_,{TagModule:()=>i});var o=e(186),l=e(6814),m=e(6505),c=e(5780),s=e(7175),E=e(6812),g=e(5419),n=e(9212);const t=[{path:"",component:c.Z,canActivate:[g.n],data:{permission:"tag.index"}},{path:"create",component:s.N,canActivate:[g.n],data:{permission:["tag.index","tag.create"]}},{path:"edit/:id",component:E.o,canActivate:[g.n],data:{permission:["tag.index","tag.edit"]}}];let d=(()=>{class r{static#t=this.\u0275fac=function(T){return new(T||r)};static#e=this.\u0275mod=n.oAB({type:r});static#a=this.\u0275inj=n.cJS({imports:[m.Bz.forChild(t),m.Bz]})}return r})();var p=e(6208),u=e(6165);let i=(()=>{class r{static#t=this.\u0275fac=function(T){return new(T||r)};static#e=this.\u0275mod=n.oAB({type:r});static#a=this.\u0275inj=n.cJS({imports:[l.ez,d,p.m,o.$l.forFeature([u.R])]})}return r})()},4612:(C,_,e)=>{e.d(_,{El:()=>m,Gz:()=>c,Xn:()=>l,hT:()=>s,ps:()=>E,tW:()=>g,zo:()=>o});let o=(()=>{class n{static#t=this.type="[Tag] Get";constructor(d){this.payload=d}}return n})(),l=(()=>{class n{static#t=this.type="[Tag] Create";constructor(d){this.payload=d}}return n})(),m=(()=>{class n{static#t=this.type="[Tag] Edit";constructor(d){this.id=d}}return n})(),c=(()=>{class n{static#t=this.type="[Tag] Update";constructor(d,p){this.payload=d,this.id=p}}return n})(),s=(()=>{class n{static#t=this.type="[Tag] Update Status";constructor(d,p){this.id=d,this.status=p}}return n})(),E=(()=>{class n{static#t=this.type="[Tag] Delete";constructor(d){this.id=d}}return n})(),g=(()=>{class n{static#t=this.type="[Tag] Delete All";constructor(d){this.ids=d}}return n})()},6165:(C,_,e)=>{e.d(_,{R:()=>p});var o=e(7582),l=e(186),m=e(9397),c=e(4612),s=e(9212),E=e(3477),g=e(553),n=e(9862);let t=(()=>{class u{constructor(r){this.http=r}getTags(r){return this.http.get(`${g.N.URL}/tag.json`,{params:r})}static#t=this.\u0275fac=function(a){return new(a||u)(s.LFG(n.eN))};static#e=this.\u0275prov=s.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),p=class A{constructor(i,r,a){this.store=i,this.notificationService=r,this.tagService=a}static tag(i){return i.tag}static selectedTag(i){return i.selectedTag}getTags(i,r){return this.tagService.getTags(r.payload).pipe((0,m.b)({next:a=>{i.patchState({tag:{data:a.data,total:a?.total?a?.total:a.data?.length}})},error:a=>{throw new Error(a?.error?.message)}}))}create(i,r){}edit(i,{id:r}){const a=i.getState(),h=a.tag.data.find(T=>T.id==r);i.patchState({...a,selectedTag:h})}update(i,{}){}updateStatus(i,{}){}delete(i,{}){}deleteAll(i,{}){}static#t=this.\u0275fac=function(r){return new(r||A)(s.LFG(l.yh),s.LFG(E.g),s.LFG(t))};static#e=this.\u0275prov=s.Yz7({token:A,factory:A.\u0275fac})};(0,o.gn)([(0,l.aU)(c.zo)],p.prototype,"getTags",null),(0,o.gn)([(0,l.aU)(c.Xn)],p.prototype,"create",null),(0,o.gn)([(0,l.aU)(c.El)],p.prototype,"edit",null),(0,o.gn)([(0,l.aU)(c.Gz)],p.prototype,"update",null),(0,o.gn)([(0,l.aU)(c.hT)],p.prototype,"updateStatus",null),(0,o.gn)([(0,l.aU)(c.ps)],p.prototype,"delete",null),(0,o.gn)([(0,l.aU)(c.tW)],p.prototype,"deleteAll",null),(0,o.gn)([(0,l.Qf)()],p,"tag",null),(0,o.gn)([(0,l.Qf)()],p,"selectedTag",null),p=(0,o.gn)([(0,l.ZM)({name:"tag",defaults:{tag:{data:[],total:0},selectedTag:null}})],p)}}]);