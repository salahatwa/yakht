"use strict";(self.webpackChunkFastkart_Admin_SSR=self.webpackChunkFastkart_Admin_SSR||[]).push([[534,255],{5419:(ct,U,m)=>{m.d(U,{n:()=>K});var o=m(9212),p=m(186),I=m(6505);let K=(()=>{class O{constructor(C,j){this.store=C,this.router=j}canActivate(C,j){const P=this.store.selectSnapshot(y=>y.account).permissions?.map(y=>y?.name),d=C.data?.permission;return!!(!d||!Array.isArray(d)&&P?.includes(d)||Array.isArray(d)&&d?.length&&d.every(y=>P?.includes(y)))||(this.router.navigate(["/error/403"]),!1)}static#t=this.\u0275fac=function(j){return new(j||O)(o.LFG(p.yh),o.LFG(I.F0))};static#e=this.\u0275prov=o.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},3092:(ct,U,m)=>{m.d(U,{L:()=>Z});var o=m(9212),p=m(6814),I=m(9515);function K(C,j){1&C&&(o.TgZ(0,"span",1),o._uU(1,"*"),o.qZA())}const O=["*"];let Z=(()=>{class C{constructor(){this.class="mb-4 row align-items-center g-2",this.labelClass="form-label-title col-sm-2 mb-0",this.gridClass="col-sm-10"}static#t=this.\u0275fac=function(d){return new(d||C)};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-form-fields"]],inputs:{class:"class",label:"label",labelClass:"labelClass",gridClass:"gridClass",for:"for",required:"required"},ngContentSelectors:O,decls:7,vars:11,consts:[["class","theme-color ms-2 required-dot",4,"ngIf"],[1,"theme-color","ms-2","required-dot"]],template:function(d,y){1&d&&(o.F$t(),o.TgZ(0,"div")(1,"label"),o._uU(2),o.ALo(3,"translate"),o.YNc(4,K,2,0,"span",0),o.qZA(),o.TgZ(5,"div"),o.Hsn(6),o.qZA()()),2&d&&(o.Tol(y.class),o.xp6(1),o.Tol(y.labelClass),o.uIk("for",y.for),o.xp6(1),o.hij(" ",o.lcZ(3,9,y.label),""),o.xp6(2),o.Q6J("ngIf",y.required),o.xp6(1),o.Tol(y.gridClass))},dependencies:[p.O5,I.X$]})}return C})()},8176:(ct,U,m)=>{m.d(U,{J:()=>P});var o=m(9212),p=m(6814),I=m(5849);const K=["mediaModal"];function O(d,y){if(1&d){const h=o.EpF();o.TgZ(0,"li"),o._UZ(1,"img",8),o.TgZ(2,"a",9),o.NdJ("click",function(){const D=o.CHM(h).index,G=o.oxw();return o.KtG(G.remove(D,"multiple"))}),o._UZ(3,"i",10),o.qZA()()}if(2&d){const h=y.$implicit,b=y.index;o.xp6(1),o.s9C("src",null==h?null:h.original_url,o.LSH),o.xp6(1),o.MGl("id","remove-icon",b,"")}}function Z(d,y){if(1&d){const h=o.EpF();o.TgZ(0,"li"),o._UZ(1,"img",8),o.TgZ(2,"a",11),o.NdJ("click",function(){o.CHM(h);const _=o.oxw();return o.KtG(_.remove(null==_.showImage?null:_.showImage.id,"single"))}),o._UZ(3,"i",10),o.qZA()()}if(2&d){const h=o.oxw();o.xp6(1),o.s9C("src",null==h.showImage?null:h.showImage.original_url,o.LSH)}}function C(d,y){if(1&d){const h=o.EpF();o.TgZ(0,"li"),o._UZ(1,"img",8),o.TgZ(2,"a",11),o.NdJ("click",function(){o.CHM(h);const _=o.oxw();return o.KtG(_.remove(1,"single_image_url"))}),o._UZ(3,"i",10),o.qZA()()}if(2&d){const h=o.oxw();o.xp6(1),o.s9C("src",h.showImageUrl,o.LSH)}}function j(d,y){if(1&d&&(o.TgZ(0,"p",12),o._uU(1),o.qZA()),2&d){const h=o.oxw();o.xp6(1),o.Oqu(h.helpText)}}let P=(()=>{class d{constructor(){this.images=[],this.url=!1,this.multipleImage=!1,this.selectedFiles=new o.vpe,this.showImages=[]}ngOnChanges(){this.showImage=this.image,this.showImages=this.images,this.showImageUrl=this.imageUrl}selectImage(h,b){Array.isArray(h)?(this.images=h,this.showImages=h):b?(this.imageUrl=h.original_url,this.showImageUrl=h.original_url):(this.image=h,this.showImage=h),this.selectedFiles.emit(this.imageUrl?this.imageUrl:this.images.length?this.images:this.image)}remove(h,b){"multiple"==b&&Array.isArray(this.images)?(this.images.splice(h,1),this.showImages=this.images):"single_image_url"==b?(this.imageUrl=null,this.showImageUrl=null,this.image=null):(this.image=null,this.showImage=null),this.selectedFiles.emit(this.images.length?this.images:this.image)}static#t=this.\u0275fac=function(b){return new(b||d)};static#e=this.\u0275cmp=o.Xpm({type:d,selectors:[["app-image-upload"]],viewQuery:function(b,_){if(1&b&&o.Gf(K,5),2&b){let D;o.iGM(D=o.CRH())&&(_.MediaModal=D.first)}},inputs:{images:"images",image:"image",id:"id",imageUrl:"imageUrl",url:"url",multipleImage:"multipleImage",helpText:"helpText"},outputs:{selectedFiles:"selectedFiles"},features:[o.TTD],decls:9,vars:6,consts:[[1,"image-select-list","cursor-pointer"],[1,"choosefile-input",3,"click"],[1,"ri-add-line"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","help-text",4,"ngIf"],[3,"multipleImage","url","selectImage"],["mediaModal",""],["alt","image",1,"img-fluid",3,"src"],["href","javascript:void(0)",1,"remove-icon",3,"id","click"],[1,"ri-close-line","text-white"],["href","javascript:void(0)",1,"remove-icon",3,"click"],[1,"help-text"]],template:function(b,_){1&b&&(o.TgZ(0,"ul",0)(1,"li",1),o.NdJ("click",function(){return _.MediaModal.openModal()}),o._UZ(2,"i",2),o.qZA(),o.YNc(3,O,4,2,"li",3)(4,Z,4,1,"li",4)(5,C,4,1,"li",4),o.qZA(),o.YNc(6,j,2,1,"p",5),o.TgZ(7,"app-media-modal",6,7),o.NdJ("selectImage",function(G){return _.selectImage(G,_.url)}),o.qZA()),2&b&&(o.xp6(3),o.Q6J("ngForOf",_.showImages),o.xp6(1),o.Q6J("ngIf",_.showImage),o.xp6(1),o.Q6J("ngIf",_.showImageUrl),o.xp6(1),o.Q6J("ngIf",_.helpText),o.xp6(1),o.Q6J("multipleImage",_.multipleImage)("url",_.url))},dependencies:[p.sg,p.O5,I.P]})}return d})()},9299:(ct,U,m)=>{m.d(U,{u:()=>Ma,d:()=>Ra});var o=m(5861),p=m(9212);function C(t,e=new Set){const r=[t],n=new Set;let s=0;for(;r.length>s;){const i=r[s++];if(!n.has(i)&&j(i)&&!e.has(i))if(n.add(i),Symbol.iterator in i)try{for(const a of i)r.push(a)}catch{}else for(const a in i)"defaultValue"!==a&&r.push(i[a])}return n}function j(t){const e=Object.prototype.toString.call(t),r=typeof t;return!("number"===r||"boolean"===r||"string"===r||"symbol"===r||"function"===r||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}Symbol("MainQueueId");class h{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit="number"==typeof e.crashNumberLimit?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof e.minimumNonErrorTimePeriod?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const n="error"in r?r.error:r.reason;n instanceof Error&&this._handleError(n,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,r){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(r)}off(e,r){this._listeners[e]=this._listeners[e].filter(n=>n!==r)}_fire(e,...r){const n=this._listeners[e]||[];for(const s of n)s.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,r){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:r instanceof ErrorEvent?r.filename:void 0,lineno:r instanceof ErrorEvent?r.lineno:void 0,colno:r instanceof ErrorEvent?r.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&null!=e.context&&"ready"===this.state&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}const _=function b(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},G="object"==typeof global&&global&&global.Object===Object&&global;var Ae="object"==typeof self&&self&&self.Object===Object&&self;const x=G||Ae||Function("return this")(),lt=function(){return x.Date.now()};var xe=/\s/;var Pe=/^\s+/;const Fe=function De(t){return t&&t.slice(0,function Se(t){for(var e=t.length;e--&&xe.test(t.charAt(e)););return e}(t)+1).replace(Pe,"")},k=x.Symbol;var xt=Object.prototype,Me=xt.hasOwnProperty,Ue=xt.toString,$=k?k.toStringTag:void 0;var We=Object.prototype.toString;var St=k?k.toStringTag:void 0;const R=function He(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":St&&St in Object(t)?function Re(t){var e=Me.call(t,$),r=t[$];try{t[$]=void 0;var n=!0}catch{}var s=Ue.call(t);return n&&(e?t[$]=r:delete t[$]),s}(t):function Ke(t){return We.call(t)}(t)},F=function Je(t){return null!=t&&"object"==typeof t};var ze=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,Ye=/^0o[0-7]+$/i,Xe=parseInt;const Pt=function tr(t){if("number"==typeof t)return t;if(function qe(t){return"symbol"==typeof t||F(t)&&"[object Symbol]"==R(t)}(t))return NaN;if(_(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Fe(t);var r=$e.test(t);return r||Ye.test(t)?Xe(t.slice(2),r?2:8):ze.test(t)?NaN:+t};var rr=Math.max,nr=Math.min;const cr=function ar(t,e,r){var n=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return _(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),function or(t,e,r){var n,s,i,a,c,u,l=0,v=!1,w=!1,N=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function z(T){var M=n,et=s;return n=s=void 0,l=T,a=t.apply(et,M)}function S(T){var M=T-u;return void 0===u||M>=e||M<0||w&&T-l>=i}function A(){var T=lt();if(S(T))return Ee(T);c=setTimeout(A,function at(T){var we=e-(T-u);return w?nr(we,i-(T-l)):we}(T))}function Ee(T){return c=void 0,N&&n?z(T):(n=s=void 0,a)}function Ot(){var T=lt(),M=S(T);if(n=arguments,s=this,u=T,M){if(void 0===c)return function It(T){return l=T,c=setTimeout(A,e),v?z(T):a}(u);if(w)return clearTimeout(c),c=setTimeout(A,e),z(u)}return void 0===c&&(c=setTimeout(A,e)),a}return e=Pt(e)||0,_(r)&&(v=!!r.leading,i=(w="maxWait"in r)?rr(Pt(r.maxWait)||0,e):i,N="trailing"in r?!!r.trailing:N),Ot.cancel=function Ba(){void 0!==c&&clearTimeout(c),l=0,n=u=s=c=void 0},Ot.flush=function La(){return void 0===c?a:Ee(lt())},Ot}(t,e,{leading:n,maxWait:e,trailing:s})},Dt=function lr(t,e){return function(r){return t(e(r))}},ut=Dt(Object.getPrototypeOf,Object);var Ft=Function.prototype.toString,gr=Object.prototype.hasOwnProperty,fr=Ft.call(Object);const Nt=function yr(t){return F(t)&&1===t.nodeType&&!function pr(t){if(!F(t)||"[object Object]"!=R(t))return!1;var e=ut(t);if(null===e)return!0;var r=gr.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Ft.call(r)==fr}(t)},Mt=function vr(t,e){return t===e||t!=t&&e!=e},rt=function Cr(t,e){for(var r=t.length;r--;)if(Mt(t[r][0],e))return r;return-1};var wr=Array.prototype.splice;function H(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}H.prototype.clear=function br(){this.__data__=[],this.size=0},H.prototype.delete=function Ar(t){var e=this.__data__,r=rt(e,t);return!(r<0||(r==e.length-1?e.pop():wr.call(e,r,1),--this.size,0))},H.prototype.get=function Or(t){var e=this.__data__,r=rt(e,t);return r<0?void 0:e[r][1]},H.prototype.has=function Sr(t){return rt(this.__data__,t)>-1},H.prototype.set=function Pr(t,e){var r=this.__data__,n=rt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};const nt=H,Ut=function Hr(t){if(!_(t))return!1;var e=R(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};var t,Jr=x["__core-js_shared__"],Rt=(t=/[^.]+$/.exec(Jr&&Jr.keys&&Jr.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";var zr=Function.prototype.toString;const B=function $r(t){if(null!=t){try{return zr.call(t)}catch{}try{return t+""}catch{}}return""};var Xr=/^\[object .+?Constructor\]$/,on=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const an=function sn(t){return!(!_(t)||function Vr(t){return!!Rt&&Rt in t}(t))&&(Ut(t)?on:Xr).test(B(t))},L=function un(t,e){var r=function cn(t,e){return t?.[e]}(t,e);return an(r)?r:void 0},Y=L(x,"Map"),X=L(Object,"create");var bn=Object.prototype.hasOwnProperty;var En=Object.prototype.hasOwnProperty;function J(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}J.prototype.clear=function _n(){this.__data__=X?X(null):{},this.size=0},J.prototype.delete=function fn(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},J.prototype.get=function Tn(t){var e=this.__data__;if(X){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return bn.call(e,t)?e[t]:void 0},J.prototype.has=function wn(t){var e=this.__data__;return X?void 0!==e[t]:En.call(e,t)},J.prototype.set=function On(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=X&&void 0===e?"__lodash_hash_undefined__":e,this};const Bt=J,ot=function Fn(t,e){var r=t.__data__;return function Pn(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map};function V(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}V.prototype.clear=function Sn(){this.size=0,this.__data__={hash:new Bt,map:new(Y||nt),string:new Bt}},V.prototype.delete=function Nn(t){var e=ot(this,t).delete(t);return this.size-=e?1:0,e},V.prototype.get=function Un(t){return ot(this,t).get(t)},V.prototype.has=function Bn(t){return ot(this,t).has(t)},V.prototype.set=function Wn(t,e){var r=ot(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};const Zn=V;function q(t){var e=this.__data__=new nt(t);this.size=e.size}q.prototype.clear=function Fr(){this.__data__=new nt,this.size=0},q.prototype.delete=function Mr(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},q.prototype.get=function Rr(t){return this.__data__.get(t)},q.prototype.has=function Lr(t){return this.__data__.has(t)},q.prototype.set=function kn(t,e){var r=this.__data__;if(r instanceof nt){var n=r.__data__;if(!Y||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Zn(n)}return r.set(t,e),this.size=r.size,this};const Jn=q;var Qn=function(){try{var t=L(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Lt=Qn,Wt=function zn(t,e,r){"__proto__"==e&&Lt?Lt(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var Yn=Object.prototype.hasOwnProperty;const Kt=function Xn(t,e,r){var n=t[e];(!Yn.call(t,e)||!Mt(n,r)||void 0===r&&!(e in t))&&Wt(t,e,r)},st=function to(t,e,r,n){var s=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var c=e[i],u=n?n(r[c],t[c],c,r,t):void 0;void 0===u&&(u=t[c]),s?Wt(r,c,u):Kt(r,c,u)}return r},Zt=function oo(t){return F(t)&&"[object Arguments]"==R(t)};var Gt=Object.prototype,so=Gt.hasOwnProperty,io=Gt.propertyIsEnumerable,ao=Zt(function(){return arguments}())?Zt:function(t){return F(t)&&so.call(t,"callee")&&!io.call(t,"callee")};const co=ao,dt=Array.isArray;var kt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ht=kt&&"object"==typeof module&&module&&!module.nodeType&&module,Jt=Ht&&Ht.exports===kt?x.Buffer:void 0;const Vt=(Jt?Jt.isBuffer:void 0)||function uo(){return!1};var mo=/^(?:0|[1-9]\d*)$/;const bo=function yo(t,e){var r=typeof t;return!!(e=e??9007199254740991)&&("number"==r||"symbol"!=r&&mo.test(t))&&t>-1&&t%1==0&&t<e},qt=function vo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1;const _t=function qo(t){return function(e){return t(e)}};var Qt="object"==typeof exports&&exports&&!exports.nodeType&&exports,tt=Qt&&"object"==typeof module&&module&&!module.nodeType&&module,gt=tt&&tt.exports===Qt&&G.process;const Q=function(){try{return tt&&tt.require&&tt.require("util").types||gt&&gt.binding&&gt.binding("util")}catch{}}();var zt=Q&&Q.isTypedArray;const Yo=zt?_t(zt):function Jo(t){return F(t)&&qt(t.length)&&!!f[R(t)]};var ts=Object.prototype.hasOwnProperty;const $t=function es(t,e){var r=dt(t),n=!r&&co(t),s=!r&&!n&&Vt(t),i=!r&&!n&&!s&&Yo(t),a=r||n||s||i,c=a?function eo(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=c.length;for(var l in t)(e||ts.call(t,l))&&(!a||!("length"==l||s&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bo(l,u)))&&c.push(l);return c};var rs=Object.prototype;const ft=function ns(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||rs)},ss=Dt(Object.keys,Object);var as=Object.prototype.hasOwnProperty;const Yt=function us(t){return null!=t&&qt(t.length)&&!Ut(t)},pt=function hs(t){return Yt(t)?$t(t):function cs(t){if(!ft(t))return ss(t);var e=[];for(var r in Object(t))as.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)};var ms=Object.prototype.hasOwnProperty;const bs=function ys(t){if(!_(t))return function gs(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=ft(t),r=[];for(var n in t)"constructor"==n&&(e||!ms.call(t,n))||r.push(n);return r},mt=function Ts(t){return Yt(t)?$t(t,!0):bs(t)};var Xt="object"==typeof exports&&exports&&!exports.nodeType&&exports,te=Xt&&"object"==typeof module&&module&&!module.nodeType&&module,ee=te&&te.exports===Xt?x.Buffer:void 0,re=ee?ee.allocUnsafe:void 0;const ne=function js(){return[]};var Ds=Object.prototype.propertyIsEnumerable,oe=Object.getOwnPropertySymbols,Fs=oe?function(t){return null==t?[]:(t=Object(t),function xs(t,e){for(var r=-1,n=null==t?0:t.length,s=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[s++]=a)}return i}(oe(t),function(e){return Ds.call(t,e)}))}:ne;const yt=Fs,se=function Us(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t};var Bs=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)se(e,yt(t)),t=ut(t);return e}:ne;const ie=Bs,ae=function Ks(t,e,r){var n=e(t);return dt(t)?n:se(n,r(t))},Gs=function Zs(t){return ae(t,pt,yt)},Hs=function ks(t){return ae(t,mt,ie)},bt=L(x,"DataView"),Tt=L(x,"Promise"),vt=L(x,"Set"),Ct=L(x,"WeakMap");var ce="[object Map]",le="[object Promise]",ue="[object Set]",he="[object WeakMap]",de="[object DataView]",$s=B(bt),Ys=B(Y),Xs=B(Tt),ti=B(vt),ei=B(Ct),W=R;(bt&&W(new bt(new ArrayBuffer(1)))!=de||Y&&W(new Y)!=ce||Tt&&W(Tt.resolve())!=le||vt&&W(new vt)!=ue||Ct&&W(new Ct)!=he)&&(W=function(t){var e=R(t),r="[object Object]"==e?t.constructor:void 0,n=r?B(r):"";if(n)switch(n){case $s:return de;case Ys:return ce;case Xs:return le;case ti:return ue;case ei:return he}return e});const Et=W;var ni=Object.prototype.hasOwnProperty;const _e=x.Uint8Array,wt=function ai(t){var e=new t.constructor(t.byteLength);return new _e(e).set(new _e(t)),e};var ui=/\w*$/;var ge=k?k.prototype:void 0,fe=ge?ge.valueOf:void 0;const Ri=function Ui(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return wt(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return function ci(t,e){var r=e?wt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function fi(t,e){var r=e?wt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return function hi(t){var e=new t.constructor(t.source,ui.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return function _i(t){return fe?Object(fe.call(t)):{}}(t)}};var pe=Object.create,Bi=function(){function t(){}return function(e){if(!_(e))return{};if(pe)return pe(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const Li=Bi;var me=Q&&Q.isMap;const Ji=me?_t(me):function Gi(t){return F(t)&&"[object Map]"==Et(t)};var ye=Q&&Q.isSet;const $i=ye?_t(ye):function qi(t){return F(t)&&"[object Set]"==Et(t)};var be="[object Arguments]",Te="[object Function]",ve="[object Object]",g={};g[be]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object DataView]"]=g["[object Boolean]"]=g["[object Date]"]=g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Map]"]=g["[object Number]"]=g[ve]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object Symbol]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Error]"]=g[Te]=g["[object WeakMap]"]=!1;const wa=function it(t,e,r,n,s,i){var a,c=1&e,u=2&e,l=4&e;if(r&&(a=s?r(t,n,s,i):r(t)),void 0!==a)return a;if(!_(t))return t;var v=dt(t);if(v){if(a=function oi(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&ni.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!c)return function Is(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t,a)}else{var w=Et(t),N=w==Te||"[object GeneratorFunction]"==w;if(Vt(t))return function ws(t,e){if(e)return t.slice();var r=t.length,n=re?re(r):new t.constructor(r);return t.copy(n),n}(t,c);if(w==ve||w==be||N&&!s){if(a=u||N?{}:function Wi(t){return"function"!=typeof t.constructor||ft(t)?{}:Li(ut(t))}(t),!c)return u?function Ls(t,e){return st(t,ie(t),e)}(t,function vs(t,e){return t&&st(e,mt(e),t)}(a,t)):function Ns(t,e){return st(t,yt(t),e)}(t,function ds(t,e){return t&&st(e,pt(e),t)}(a,t))}else{if(!g[w])return s?t:{};a=Ri(t,w,c)}}i||(i=new Jn);var z=i.get(t);if(z)return z;i.set(t,a),$i(t)?t.forEach(function(S){a.add(it(S,e,r,S,t,i))}):Ji(t)&&t.forEach(function(S,A){a.set(A,it(S,e,r,A,t,i))});var at=v?void 0:(l?u?Hs:Gs:u?mt:pt)(t);return function Vn(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(at||t,function(S,A){at&&(S=t[A=S]),Kt(a,A,it(S,e,r,A,t,i))}),a};class Sa extends h{constructor(e,r={}){super(r),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=cr(this._save.bind(this),"number"==typeof r.saveInterval?r.saveInterval:5e3),e&&(this._creator=(n,s)=>e.create(n,s)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},r=[],n=this._config.rootsAttributes||{},s={};for(const[a,c]of Object.entries(this._data.roots))c.isLoaded?(e[a]="",s[a]=n[a]||{}):r.push(a);const i={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:r,rootsAttributes:s,_watchdogInitialData:this._data};return delete i.initialData,i.extraPlugins.push(ja),this._initUsingData?this.create(e,i,i.context):Nt(this._elementOrData)?this.create(this._elementOrData,i,i.context):this.create(this._editables,i,i.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,r=this._config,n){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData="string"==typeof e||Object.keys(e).length>0&&"string"==typeof Object.values(e)[0],this._config=this._cloneEditorConfiguration(r)||{},this._config.context=n,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,r=e.model.document.roots.filter(c=>c.isAttached()&&"$graveyard"!=c.rootName),{plugins:n}=e,s=n.has("CommentsRepository")&&n.get("CommentsRepository"),i=n.has("TrackChanges")&&n.get("TrackChanges"),a={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};r.forEach(c=>{a.roots[c.rootName]={content:JSON.stringify(Array.from(c.getChildren())),attributes:JSON.stringify(Array.from(c.getAttributes())),isLoaded:c._isLoaded}});for(const c of e.model.markers)c._affectsData&&(a.markers[c.name]={rangeJSON:c.getRange().toJSON(),usingOperation:c._managedUsingOperations,affectsData:c._affectsData});return s&&(a.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),i&&(a.suggestions=JSON.stringify(i.getSuggestions({toJSON:!0,skipNotAttached:!0}))),a}_getEditables(){const e={};for(const r of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(r);n&&(e[r]=n)}return e}_isErrorComingFromThisItem(e){return function P(t,e,r=new Set){if(t===e&&function y(t){return"object"==typeof t&&null!==t}(t))return!0;const n=C(t,r),s=C(e,r);for(const i of n)if(s.has(i))return!0;return!1}(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return function Oa(t,e){return wa(t,5,e="function"==typeof e?e:void 0)}(e,(r,n)=>{if(Nt(r)||"context"===n)return r})}}class ja{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},r=>{this._restoreCollaborationData(),this._restoreEditorData(r)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,r){if("name"in r){const n=e.createElement(r.name,r.attributes);if(r.children)for(const s of r.children)n._appendChild(this._createNode(e,s));return n}return e.createText(r.data,r.attributes)}_restoreEditorData(e){const r=this.editor;Object.entries(this._data.roots).forEach(([n,{content:s,attributes:i}])=>{const a=JSON.parse(s),c=JSON.parse(i),u=r.model.document.getRoot(n);for(const[l,v]of c)e.setAttribute(l,v,u);for(const l of a){const v=this._createNode(e,l);e.insert(v,u,"end")}}),Object.entries(this._data.markers).forEach(([n,s])=>{const{document:i}=r.model,{rangeJSON:{start:a,end:c},...u}=s,l=i.getRoot(a.root),v=e.createPositionFromPath(l,a.path,a.stickiness),w=e.createPositionFromPath(l,c.path,c.stickiness),N=e.createRange(v,w);e.addMarker(n,{range:N,...u})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),r=JSON.parse(this._data.suggestions);e.forEach(n=>{const s=this.editor.config.get("collaboration.channelId"),i=this.editor.plugins.get("CommentsRepository");i.hasCommentThread(n.threadId)&&i.getCommentThread(n.threadId).remove(),i.addCommentThread({channelId:s,...n})}),r.forEach(n=>{const s=this.editor.plugins.get("TrackChangesEditing");s.hasSuggestion(n.id)?s.getSuggestion(n.id).attributes=n.attributes:s.addSuggestionData(n)})}}var Pa=m(1374),Ce=m(6223),Da=m(6814);function Fa(t,e){}const E=new Array(256).fill(0).map((t,e)=>("0"+e.toString(16)).slice(-2)),At="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let Ma=(()=>{class t{constructor(r,n){this.config={},this.data="",this.tagName="div",this.disableTwoWayDataBinding=!1,this.ready=new p.vpe,this.change=new p.vpe,this.blur=new p.vpe,this.focus=new p.vpe,this.error=new p.vpe,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function Na(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return"e"+E[t>>0&255]+E[t>>8&255]+E[t>>16&255]+E[t>>24&255]+E[e>>0&255]+E[e>>8&255]+E[e>>16&255]+E[e>>24&255]+E[r>>0&255]+E[r>>8&255]+E[r>>16&255]+E[r>>24&255]+E[n>>0&255]+E[n>>8&255]+E[n>>16&255]+E[n>>24&255]}(),this.ngZone=n,this.elementRef=r;const{CKEDITOR_VERSION:s}=window;if(s){const[i]=s.split(".").map(Number);i<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(r){this.setDisabledState(r)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let r=this.editorWatchdog;return this.watchdog&&(r=this.watchdog._watchdogs.get(this.id)),r?r.editor:null}getId(){return this.id}ngOnChanges(r){Object.prototype.hasOwnProperty.call(r,"data")&&r.data&&!r.data.isFirstChange()&&this.writeValue(r.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){var r=this;return(0,o.Z)(function*(){r.watchdog?yield r.watchdog.remove(r.id):r.editorWatchdog&&r.editorWatchdog.editor&&(yield r.editorWatchdog.destroy(),r.editorWatchdog=void 0)})()}writeValue(r){null===r&&(r=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.data.set(r),this.isEditorSettingData=!1):(this.data=r,this.ready.pipe((0,Pa.P)()).subscribe(n=>{n.data.set(this.data)}))}registerOnChange(r){this.cvaOnChange=r}registerOnTouched(r){this.cvaOnTouched=r}setDisabledState(r){this.editorInstance&&(r?this.editorInstance.enableReadOnlyMode(At):this.editorInstance.disableReadOnlyMode(At)),this.initiallyDisabled=r}attachToWatchdog(){var r=this;const n=(u,l)=>this.ngZone.runOutsideAngular((0,o.Z)(function*(){r.elementRef.nativeElement.appendChild(u);const v=yield r.editor.create(u,l);return r.initiallyDisabled&&v.enableReadOnlyMode(At),r.ngZone.run(()=>{r.ready.emit(v)}),r.setUpEditorEvents(v),v})),s=function(){var u=(0,o.Z)(function*(l){yield l.destroy(),r.elementRef.nativeElement.removeChild(r.editorElement)});return function(v){return u.apply(this,arguments)}}(),i=u=>{(function Ua(t){return t.observed||t.observers.length>0})(this.error)&&this.ngZone.run(()=>this.error.emit(u))},a=document.createElement(this.tagName),c=this.getConfig();if(this.editorElement=a,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:n,destructor:s,sourceElementOrData:a,config:c}).catch(u=>{i(u)}),this.watchdog.on("itemError",(u,{itemId:l})=>{l===this.id&&i()});else{const u=new Sa(this.editor,this.editorWatchdogConfig);u.setCreator(n),u.setDestructor(s),u.on("error",i),this.editorWatchdog=u,this.ngZone.runOutsideAngular(()=>{u.create(a,c).catch(l=>{i(l)})})}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const r={...this.config},n=this.config.initialData||this.data;return n&&(r.initialData=n),r}setUpEditorEvents(r){const s=r.editing.view.document;r.model.document.on("change:data",i=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){const a=r.data.get();this.cvaOnChange(a)}this.change.emit({event:i,editor:r})}})}),s.on("focus",i=>{this.ngZone.run(()=>{this.focus.emit({event:i,editor:r})})}),s.on("blur",i=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:i,editor:r})})})}}return t.\u0275fac=function(r){return new(r||t)(p.Y36(p.SBq),p.Y36(p.R0b))},t.\u0275cmp=p.Xpm({type:t,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",editorWatchdogConfig:"editorWatchdogConfig",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[p._Bn([{provide:Ce.JU,useExisting:(0,p.Gpc)(()=>t),multi:!0}]),p.TTD],decls:1,vars:0,template:function(r,n){1&r&&p.YNc(0,Fa,0,0,"ng-template")},encapsulation:2}),t})(),Ra=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[Ce.u5,Da.ez]]}),t})()}}]);